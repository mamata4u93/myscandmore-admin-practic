{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { objectEqual } from './util';\nimport Tween from './Tween';\nimport ticker from './ticker';\n\nfunction noop() {}\n\nvar perFrame = Math.round(1000 / 60);\nvar objectOrArray = PropTypes.oneOfType([PropTypes.object, PropTypes.array]);\n\nvar TweenOne = function (_Component) {\n  _inherits(TweenOne, _Component);\n\n  _createClass(TweenOne, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self;\n      var nextState = {\n        prevProps: props\n      };\n\n      if (prevProps && props !== prevProps) {\n        if (!$self.tween && !$self.dom) {\n          $self.updateAnim = true;\n          return nextState;\n        } // 动画处理\n\n\n        var newAnimation = props.animation;\n        var currentAnimation = prevProps.animation;\n        var equal = objectEqual(currentAnimation, newAnimation);\n\n        if (!equal) {\n          if (props.resetStyle && $self.tween) {\n            $self.tween.resetDefaultStyle();\n          }\n\n          $self.updateAnim = true;\n        } // 跳帧事件 moment;\n\n\n        var nextMoment = props.moment;\n\n        if (typeof nextMoment === 'number' && nextMoment !== prevProps.moment) {\n          if ($self.tween && !$self.updateAnim) {\n            $self.startMoment = nextMoment;\n            $self.startTime = ticker.time;\n\n            if (props.paused) {\n              $self.raf();\n            }\n\n            if ($self.tween.progressTime >= $self.tween.totalTime) {\n              $self.play();\n            }\n          } else {\n            $self.updateAnim = true;\n          }\n        } // 暂停倒放\n\n\n        if ($self.paused !== props.paused || $self.reverse !== props.reverse) {\n          $self.paused = props.paused;\n          $self.reverse = props.reverse;\n\n          if ($self.paused) {\n            $self.cancelRequestAnimationFrame();\n          } else if ($self.reverse && props.reverseDelay) {\n            $self.cancelRequestAnimationFrame();\n            ticker.timeout($self.restart, props.reverseDelay);\n          } else {\n            // 在 form 状态下，暂停时拉 moment 时，start 有值恢复播放，在 delay 的时间没有处理。。\n            if ($self.tween) {\n              $self.tween.resetAnimData();\n              $self.tween.resetDefaultStyle();\n            }\n\n            if (!$self.updateAnim) {\n              $self.restart();\n            }\n          }\n        }\n\n        var styleEqual = objectEqual(prevProps.style, props.style);\n\n        if (!styleEqual) {\n          // 在动画时更改了 style, 作为更改开始数值。\n          if ($self.tween) {\n            $self.tween.reStart(props.style, prevProps.style, $self.tween.progressTime < $self.tween.totalTime);\n\n            if ($self.paused) {\n              $self.raf();\n            }\n          }\n        }\n\n        $self.setForcedJudg(props);\n      }\n\n      return nextState; // eslint-disable-line\n    }\n  }]);\n\n  function TweenOne(props) {\n    _classCallCheck(this, TweenOne);\n\n    var _this = _possibleConstructorReturn(this, (TweenOne.__proto__ || Object.getPrototypeOf(TweenOne)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.rafID = -1;\n    _this.paused = props.paused;\n    _this.reverse = props.reverse;\n    _this.updateAnim = false;\n    _this.repeatNum = 0; // 定义 ref 给外部使用；\n\n    _this.currentRef = null;\n    _this.forced = {};\n\n    _this.setForcedJudg(props);\n\n    _this.state = {\n      $self: _this\n    };\n    return _this;\n  }\n\n  _createClass(TweenOne, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.dom = ReactDom.findDOMNode(this);\n\n      if (this.dom && this.dom.nodeName !== '#text') {\n        this.start();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (!this.dom) {\n        this.dom = ReactDom.findDOMNode(this);\n      } // 样式更新了后再执行动画；\n\n\n      if (this.updateAnim && this.dom && this.dom.nodeName !== '#text') {\n        if (this.tween) {\n          this.cancelRequestAnimationFrame();\n        }\n\n        this.start();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.cancelRequestAnimationFrame();\n    }\n    /**\n     * @method setForcedJudg\n     * @param props\n     * QueueAnim 套在组件下面后导至子级变化。\n     * <QueueAnim component={Menu} >\n     *   <SubMenu key=\"a\" title=\"导航\">\n     *     <Item />\n     *   </SubMenu>\n     * </QueueAnim>\n     * rc-Menu 里是以 isXXX 来判断是 rc-Menu 的子级;\n     * 如: 用 isSubMenu 来处理 hover 事件\n     * 地址: https://github.com/react-component/menu/blob/master/src/MenuMixin.js#L172\n     * 暂时方案: 在组件里添加判断用的值。\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          reverseDelay = _props.reverseDelay,\n          attr = _props.attr,\n          paused = _props.paused,\n          reverse = _props.reverse,\n          repeat = _props.repeat,\n          yoyo = _props.yoyo,\n          moment = _props.moment,\n          resetStyle = _props.resetStyle,\n          forcedJudg = _props.forcedJudg,\n          props = _objectWithoutProperties(_props, ['animation', 'component', 'componentProps', 'reverseDelay', 'attr', 'paused', 'reverse', 'repeat', 'yoyo', 'moment', 'resetStyle', 'forcedJudg']);\n\n      Object.keys(props.style || {}).forEach(function (p) {\n        if (p.match(/filter/i)) {\n          ['Webkit', 'Moz', 'Ms', 'ms'].forEach(function (prefix) {\n            props.style[prefix + 'Filter'] = props.style[p];\n          });\n        }\n      });\n\n      var refFunc = function refFunc(c) {\n        _this2.currentRef = c;\n      }; // component 为空时调用子级的。。\n\n\n      var className = props.className,\n          children = props.children;\n\n      if (!component && typeof children !== 'string') {\n        if (!children) {\n          return children;\n        }\n\n        var childrenProps = children.props;\n\n        var _ref2 = childrenProps || {},\n            childStyle = _ref2.style,\n            childClass = _ref2.className; // 合并 style 与 className。\n\n\n        var newStyle = _extends({}, childStyle, props.style);\n\n        var newClassName = className ? className + ' ' + childClass : childClass;\n        return React.cloneElement(children, {\n          style: newStyle,\n          ref: refFunc,\n          className: newClassName\n        });\n      }\n\n      return React.createElement(component, _extends({\n        ref: refFunc\n      }, props, componentProps));\n    }\n  }]);\n\n  return TweenOne;\n}(Component);\n\nTweenOne.propTypes = {\n  component: PropTypes.any,\n  componentProps: PropTypes.any,\n  animation: objectOrArray,\n  children: PropTypes.any,\n  style: PropTypes.object,\n  paused: PropTypes.bool,\n  reverse: PropTypes.bool,\n  reverseDelay: PropTypes.number,\n  yoyo: PropTypes.bool,\n  repeat: PropTypes.number,\n  moment: PropTypes.number,\n  attr: PropTypes.string,\n  onChange: PropTypes.func,\n  resetStyle: PropTypes.bool,\n  forcedJudg: PropTypes.object\n};\nTweenOne.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  reverseDelay: 0,\n  repeat: 0,\n  attr: 'style',\n  onChange: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.setForcedJudg = function (props) {\n    Object.keys(_this3.forced).forEach(function (key) {\n      delete _this3[key];\n      delete _this3.forced[key];\n    });\n\n    if (props.forcedJudg) {\n      Object.keys(props.forcedJudg).forEach(function (key) {\n        if (!_this3[key]) {\n          _this3[key] = props.forcedJudg[key];\n          _this3.forced[key] = 1;\n        }\n      });\n    }\n  };\n\n  this.setDefault = function (props) {\n    _this3.moment = props.moment || 0;\n    _this3.startMoment = props.moment || 0;\n    _this3.startTime = ticker.time;\n  };\n\n  this.restart = function () {\n    if (!_this3.tween) {\n      return;\n    }\n\n    _this3.startMoment = _this3.moment;\n    _this3.startTime = ticker.time;\n    _this3.tween.reverse = _this3.reverse;\n    _this3.tween.reverseStartTime = _this3.startMoment;\n\n    _this3.raf();\n\n    _this3.play();\n  };\n\n  this.start = function () {\n    _this3.updateAnim = false;\n    var props = _this3.props;\n\n    if (props.animation && Object.keys(props.animation).length) {\n      _this3.setDefault(props);\n\n      _this3.tween = new Tween(_this3.dom, props.animation, props.attr);\n      _this3.tween.reverse = _this3.reverse; // 预先注册 raf, 初始动画数值。\n\n      _this3.raf(); // 开始动画\n\n\n      _this3.play();\n    } else {\n      _this3.tween = null;\n    }\n  };\n\n  this.play = function () {\n    _this3.cancelRequestAnimationFrame();\n\n    if (_this3.paused) {\n      return;\n    }\n\n    _this3.rafID = ticker.add(_this3.raf);\n  };\n\n  this.frame = function () {\n    var yoyo = _this3.props.yoyo;\n    var repeat = _this3.props.repeat;\n    var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n    repeat = repeat >= 0 ? repeat : Number.MAX_VALUE;\n    var moment = ticker.time - _this3.startTime + _this3.startMoment;\n\n    if (_this3.reverse) {\n      moment = (_this3.startMoment || 0) - (ticker.time - _this3.startTime);\n    }\n\n    moment = moment > totalTime ? totalTime : moment;\n    moment = moment <= 0 ? 0 : moment;\n    var repeatNum = Math.floor(moment / _this3.tween.totalTime) || 0;\n    repeatNum = repeatNum > repeat ? repeat : repeatNum;\n    var tweenMoment = moment - _this3.tween.totalTime * repeatNum;\n    tweenMoment = tweenMoment < perFrame && !_this3.reverse && totalTime >= perFrame ? 0 : tweenMoment;\n\n    if (repeat && moment && moment - _this3.tween.totalTime * repeatNum < perFrame) {\n      // 在重置样式之前补 complete；\n      _this3.tween.frame(_this3.tween.totalTime * repeatNum);\n    }\n\n    if (moment < _this3.moment && !_this3.reverse || repeat !== 0 && repeatNum && repeatNum !== _this3.repeatNum) {\n      // 在 form 状态下，暂停时拉 moment 时，start 有值，，往返方向播放时，在 delay 的时间没有处理。。\n      // 与上面的处理一样，删除 start ，重新走一遍 start。。\n      _this3.tween.resetAnimData();\n\n      _this3.tween.resetDefaultStyle();\n    }\n\n    var yoyoReverse = yoyo && repeatNum % 2;\n\n    if (yoyoReverse) {\n      tweenMoment = _this3.tween.totalTime - tweenMoment;\n    }\n\n    _this3.tween.onChange = function (e) {\n      var cb = _extends({}, e, {\n        timelineMode: ''\n      });\n\n      if (_this3.moment === _this3.startMoment && !_this3.reverse && !e.index && e.mode === 'onStart' || _this3.reverse) {\n        cb.timelineMode = 'onTimelineStart';\n      } else if (moment >= totalTime && !_this3.reverse || !moment && _this3.reverse) {\n        cb.timelineMode = 'onTimelineComplete';\n      } else if (repeatNum !== _this3.timelineRepeatNum) {\n        cb.timelineMode = 'onTimelineRepeat';\n      } else {\n        cb.timelineMode = 'onTimelineUpdate';\n      }\n\n      _this3.timelineRepeatNum = repeatNum;\n\n      _this3.props.onChange(cb);\n    };\n\n    _this3.moment = moment;\n    _this3.repeatNum = repeatNum;\n\n    _this3.tween.frame(tweenMoment);\n  };\n\n  this.raf = function () {\n    var tween = _this3.tween;\n\n    _this3.frame();\n\n    if (tween !== _this3.tween) {\n      // 在 onComplete 时更换动画时，raf 没结束，所以需要强制退出，避逸两个时间的冲突。\n      return null;\n    }\n\n    var repeat = _this3.props.repeat;\n    var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n\n    if (_this3.moment >= totalTime && !_this3.reverse || _this3.paused || _this3.reverse && _this3.moment === 0) {\n      return _this3.cancelRequestAnimationFrame();\n    }\n\n    return null;\n  };\n\n  this.cancelRequestAnimationFrame = function () {\n    ticker.clear(_this3.rafID);\n    _this3.rafID = -1;\n  };\n};\n\nTweenOne.isTweenOne = true;\nexport default polyfill(TweenOne);","map":{"version":3,"names":["_extends","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_createClass","_inherits","React","Component","PropTypes","ReactDom","polyfill","objectEqual","Tween","ticker","noop","perFrame","Math","round","objectOrArray","oneOfType","object","array","TweenOne","_Component","key","value","getDerivedStateFromProps","props","_ref","prevProps","$self","nextState","tween","dom","updateAnim","newAnimation","animation","currentAnimation","equal","resetStyle","resetDefaultStyle","nextMoment","moment","startMoment","startTime","time","paused","raf","progressTime","totalTime","play","reverse","cancelRequestAnimationFrame","reverseDelay","timeout","restart","resetAnimData","styleEqual","style","reStart","setForcedJudg","_this","__proto__","Object","getPrototypeOf","call","_initialiseProps","rafID","repeatNum","currentRef","forced","state","componentDidMount","findDOMNode","nodeName","start","componentDidUpdate","componentWillUnmount","render","_this2","_props","component","componentProps","attr","repeat","yoyo","forcedJudg","keys","forEach","p","match","prefix","refFunc","c","className","children","childrenProps","_ref2","childStyle","childClass","newStyle","newClassName","cloneElement","ref","createElement","propTypes","any","bool","number","string","onChange","func","defaultProps","_this3","setDefault","reverseStartTime","length","add","frame","Number","MAX_VALUE","floor","tweenMoment","yoyoReverse","e","cb","timelineMode","index","mode","timelineRepeatNum","clear","isTweenOne"],"sources":["/Users/sunita/Sites/Erptech/myscandmore-admin-practic/node_modules/rc-tween-one/es/TweenOne.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport { objectEqual } from './util';\nimport Tween from './Tween';\nimport ticker from './ticker';\n\nfunction noop() {}\n\nvar perFrame = Math.round(1000 / 60);\nvar objectOrArray = PropTypes.oneOfType([PropTypes.object, PropTypes.array]);\n\nvar TweenOne = function (_Component) {\n  _inherits(TweenOne, _Component);\n\n  _createClass(TweenOne, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        if (!$self.tween && !$self.dom) {\n          $self.updateAnim = true;\n          return nextState;\n        }\n\n        // 动画处理\n        var newAnimation = props.animation;\n        var currentAnimation = prevProps.animation;\n        var equal = objectEqual(currentAnimation, newAnimation);\n        if (!equal) {\n          if (props.resetStyle && $self.tween) {\n            $self.tween.resetDefaultStyle();\n          }\n          $self.updateAnim = true;\n        }\n\n        // 跳帧事件 moment;\n        var nextMoment = props.moment;\n        if (typeof nextMoment === 'number' && nextMoment !== prevProps.moment) {\n          if ($self.tween && !$self.updateAnim) {\n            $self.startMoment = nextMoment;\n            $self.startTime = ticker.time;\n            if (props.paused) {\n              $self.raf();\n            }\n            if ($self.tween.progressTime >= $self.tween.totalTime) {\n              $self.play();\n            }\n          } else {\n            $self.updateAnim = true;\n          }\n        }\n\n        // 暂停倒放\n        if ($self.paused !== props.paused || $self.reverse !== props.reverse) {\n          $self.paused = props.paused;\n          $self.reverse = props.reverse;\n          if ($self.paused) {\n            $self.cancelRequestAnimationFrame();\n          } else if ($self.reverse && props.reverseDelay) {\n            $self.cancelRequestAnimationFrame();\n            ticker.timeout($self.restart, props.reverseDelay);\n          } else {\n            // 在 form 状态下，暂停时拉 moment 时，start 有值恢复播放，在 delay 的时间没有处理。。\n            if ($self.tween) {\n              $self.tween.resetAnimData();\n              $self.tween.resetDefaultStyle();\n            }\n            if (!$self.updateAnim) {\n              $self.restart();\n            }\n          }\n        }\n\n        var styleEqual = objectEqual(prevProps.style, props.style);\n        if (!styleEqual) {\n          // 在动画时更改了 style, 作为更改开始数值。\n          if ($self.tween) {\n            $self.tween.reStart(props.style, prevProps.style, $self.tween.progressTime < $self.tween.totalTime);\n            if ($self.paused) {\n              $self.raf();\n            }\n          }\n        }\n        $self.setForcedJudg(props);\n      }\n      return nextState; // eslint-disable-line\n    }\n  }]);\n\n  function TweenOne(props) {\n    _classCallCheck(this, TweenOne);\n\n    var _this = _possibleConstructorReturn(this, (TweenOne.__proto__ || Object.getPrototypeOf(TweenOne)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.rafID = -1;\n    _this.paused = props.paused;\n    _this.reverse = props.reverse;\n    _this.updateAnim = false;\n    _this.repeatNum = 0;\n    // 定义 ref 给外部使用；\n    _this.currentRef = null;\n    _this.forced = {};\n    _this.setForcedJudg(props);\n    _this.state = {\n      $self: _this\n    };\n    return _this;\n  }\n\n  _createClass(TweenOne, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.dom = ReactDom.findDOMNode(this);\n      if (this.dom && this.dom.nodeName !== '#text') {\n        this.start();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (!this.dom) {\n        this.dom = ReactDom.findDOMNode(this);\n      }\n      // 样式更新了后再执行动画；\n      if (this.updateAnim && this.dom && this.dom.nodeName !== '#text') {\n        if (this.tween) {\n          this.cancelRequestAnimationFrame();\n        }\n        this.start();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.cancelRequestAnimationFrame();\n    }\n\n    /**\n     * @method setForcedJudg\n     * @param props\n     * QueueAnim 套在组件下面后导至子级变化。\n     * <QueueAnim component={Menu} >\n     *   <SubMenu key=\"a\" title=\"导航\">\n     *     <Item />\n     *   </SubMenu>\n     * </QueueAnim>\n     * rc-Menu 里是以 isXXX 来判断是 rc-Menu 的子级;\n     * 如: 用 isSubMenu 来处理 hover 事件\n     * 地址: https://github.com/react-component/menu/blob/master/src/MenuMixin.js#L172\n     * 暂时方案: 在组件里添加判断用的值。\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          reverseDelay = _props.reverseDelay,\n          attr = _props.attr,\n          paused = _props.paused,\n          reverse = _props.reverse,\n          repeat = _props.repeat,\n          yoyo = _props.yoyo,\n          moment = _props.moment,\n          resetStyle = _props.resetStyle,\n          forcedJudg = _props.forcedJudg,\n          props = _objectWithoutProperties(_props, ['animation', 'component', 'componentProps', 'reverseDelay', 'attr', 'paused', 'reverse', 'repeat', 'yoyo', 'moment', 'resetStyle', 'forcedJudg']);\n\n      Object.keys(props.style || {}).forEach(function (p) {\n        if (p.match(/filter/i)) {\n          ['Webkit', 'Moz', 'Ms', 'ms'].forEach(function (prefix) {\n            props.style[prefix + 'Filter'] = props.style[p];\n          });\n        }\n      });\n      var refFunc = function refFunc(c) {\n        _this2.currentRef = c;\n      };\n      // component 为空时调用子级的。。\n      var className = props.className,\n          children = props.children;\n\n      if (!component && typeof children !== 'string') {\n        if (!children) {\n          return children;\n        }\n        var childrenProps = children.props;\n\n        var _ref2 = childrenProps || {},\n            childStyle = _ref2.style,\n            childClass = _ref2.className;\n        // 合并 style 与 className。\n\n\n        var newStyle = _extends({}, childStyle, props.style);\n        var newClassName = className ? className + ' ' + childClass : childClass;\n        return React.cloneElement(children, { style: newStyle, ref: refFunc, className: newClassName });\n      }\n      return React.createElement(component, _extends({\n        ref: refFunc\n      }, props, componentProps));\n    }\n  }]);\n\n  return TweenOne;\n}(Component);\n\nTweenOne.propTypes = {\n  component: PropTypes.any,\n  componentProps: PropTypes.any,\n  animation: objectOrArray,\n  children: PropTypes.any,\n  style: PropTypes.object,\n  paused: PropTypes.bool,\n  reverse: PropTypes.bool,\n  reverseDelay: PropTypes.number,\n  yoyo: PropTypes.bool,\n  repeat: PropTypes.number,\n  moment: PropTypes.number,\n  attr: PropTypes.string,\n  onChange: PropTypes.func,\n  resetStyle: PropTypes.bool,\n  forcedJudg: PropTypes.object\n};\nTweenOne.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  reverseDelay: 0,\n  repeat: 0,\n  attr: 'style',\n  onChange: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.setForcedJudg = function (props) {\n    Object.keys(_this3.forced).forEach(function (key) {\n      delete _this3[key];\n      delete _this3.forced[key];\n    });\n    if (props.forcedJudg) {\n      Object.keys(props.forcedJudg).forEach(function (key) {\n        if (!_this3[key]) {\n          _this3[key] = props.forcedJudg[key];\n          _this3.forced[key] = 1;\n        }\n      });\n    }\n  };\n\n  this.setDefault = function (props) {\n    _this3.moment = props.moment || 0;\n    _this3.startMoment = props.moment || 0;\n    _this3.startTime = ticker.time;\n  };\n\n  this.restart = function () {\n    if (!_this3.tween) {\n      return;\n    }\n    _this3.startMoment = _this3.moment;\n    _this3.startTime = ticker.time;\n    _this3.tween.reverse = _this3.reverse;\n    _this3.tween.reverseStartTime = _this3.startMoment;\n    _this3.raf();\n    _this3.play();\n  };\n\n  this.start = function () {\n    _this3.updateAnim = false;\n    var props = _this3.props;\n    if (props.animation && Object.keys(props.animation).length) {\n      _this3.setDefault(props);\n      _this3.tween = new Tween(_this3.dom, props.animation, props.attr);\n      _this3.tween.reverse = _this3.reverse;\n      // 预先注册 raf, 初始动画数值。\n      _this3.raf();\n      // 开始动画\n      _this3.play();\n    } else {\n      _this3.tween = null;\n    }\n  };\n\n  this.play = function () {\n    _this3.cancelRequestAnimationFrame();\n    if (_this3.paused) {\n      return;\n    }\n    _this3.rafID = ticker.add(_this3.raf);\n  };\n\n  this.frame = function () {\n    var yoyo = _this3.props.yoyo;\n    var repeat = _this3.props.repeat;\n\n    var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n    repeat = repeat >= 0 ? repeat : Number.MAX_VALUE;\n    var moment = ticker.time - _this3.startTime + _this3.startMoment;\n    if (_this3.reverse) {\n      moment = (_this3.startMoment || 0) - (ticker.time - _this3.startTime);\n    }\n    moment = moment > totalTime ? totalTime : moment;\n    moment = moment <= 0 ? 0 : moment;\n    var repeatNum = Math.floor(moment / _this3.tween.totalTime) || 0;\n    repeatNum = repeatNum > repeat ? repeat : repeatNum;\n    var tweenMoment = moment - _this3.tween.totalTime * repeatNum;\n    tweenMoment = tweenMoment < perFrame && !_this3.reverse && totalTime >= perFrame ? 0 : tweenMoment;\n    if (repeat && moment && moment - _this3.tween.totalTime * repeatNum < perFrame) {\n      // 在重置样式之前补 complete；\n      _this3.tween.frame(_this3.tween.totalTime * repeatNum);\n    }\n    if (moment < _this3.moment && !_this3.reverse || repeat !== 0 && repeatNum && repeatNum !== _this3.repeatNum) {\n      // 在 form 状态下，暂停时拉 moment 时，start 有值，，往返方向播放时，在 delay 的时间没有处理。。\n      // 与上面的处理一样，删除 start ，重新走一遍 start。。\n      _this3.tween.resetAnimData();\n      _this3.tween.resetDefaultStyle();\n    }\n    var yoyoReverse = yoyo && repeatNum % 2;\n    if (yoyoReverse) {\n      tweenMoment = _this3.tween.totalTime - tweenMoment;\n    }\n    _this3.tween.onChange = function (e) {\n      var cb = _extends({}, e, {\n        timelineMode: ''\n      });\n\n      if (_this3.moment === _this3.startMoment && !_this3.reverse && !e.index && e.mode === 'onStart' || _this3.reverse) {\n        cb.timelineMode = 'onTimelineStart';\n      } else if (moment >= totalTime && !_this3.reverse || !moment && _this3.reverse) {\n        cb.timelineMode = 'onTimelineComplete';\n      } else if (repeatNum !== _this3.timelineRepeatNum) {\n        cb.timelineMode = 'onTimelineRepeat';\n      } else {\n        cb.timelineMode = 'onTimelineUpdate';\n      }\n      _this3.timelineRepeatNum = repeatNum;\n      _this3.props.onChange(cb);\n    };\n    _this3.moment = moment;\n    _this3.repeatNum = repeatNum;\n    _this3.tween.frame(tweenMoment);\n  };\n\n  this.raf = function () {\n    var tween = _this3.tween;\n    _this3.frame();\n    if (tween !== _this3.tween) {\n      // 在 onComplete 时更换动画时，raf 没结束，所以需要强制退出，避逸两个时间的冲突。\n      return null;\n    }\n    var repeat = _this3.props.repeat;\n\n    var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n    if (_this3.moment >= totalTime && !_this3.reverse || _this3.paused || _this3.reverse && _this3.moment === 0) {\n      return _this3.cancelRequestAnimationFrame();\n    }\n    return null;\n  };\n\n  this.cancelRequestAnimationFrame = function () {\n    ticker.clear(_this3.rafID);\n    _this3.rafID = -1;\n  };\n};\n\nTweenOne.isTweenOne = true;\nexport default polyfill(TweenOne);"],"mappings":"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"},"metadata":{},"sourceType":"module"}