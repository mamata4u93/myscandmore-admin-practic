{"ast":null,"code":"/* eslint-disable func-names */\nimport requestAnimationFrame from 'raf';\n\nvar getTime = Date.now || function () {\n  return new Date().getTime();\n};\n\nvar sortObj = {\n  interval: 1,\n  timeout: 1,\n  TweenOneTicker: 2\n};\n\nvar tickObjToArray = function tickObjToArray(obj) {\n  return Object.keys(obj).map(function (k) {\n    return {\n      key: k,\n      func: obj[k]\n    };\n  }).sort(function (a, b) {\n    var aa = a.key.split('_')[0];\n    var bb = b.key.split('_')[0];\n    return sortObj[bb] - sortObj[aa];\n  });\n};\n\nvar Ticker = function Ticker() {};\n\nTicker.prototype = {\n  tickFnArray: [],\n  tickKeyObject: {},\n  id: -1,\n  tweenId: 0,\n  frame: 0,\n  perFrame: Math.round(1000 / 60),\n  elapsed: 0,\n  lastUpdate: getTime(),\n  startTime: getTime(),\n  // 开始时间，不计算 react 渲染时间；\n  nextTime: 0,\n  time: 0\n};\nvar p = Ticker.prototype;\n\np.add = function (fn) {\n  var key = 'TweenOneTicker_' + this.tweenId;\n  this.tweenId++;\n  this.wake(key, fn);\n  return key;\n};\n\np.wake = function (key, fn) {\n  this.tickKeyObject[key] = fn;\n  this.tickFnArray = tickObjToArray(this.tickKeyObject);\n\n  if (this.id === -1) {\n    this.id = requestAnimationFrame(this.tick);\n  }\n};\n\np.clear = function (key) {\n  delete this.tickKeyObject[key];\n  this.tickFnArray = tickObjToArray(this.tickKeyObject);\n};\n\np.sleep = function () {\n  requestAnimationFrame.cancel(this.id);\n  this.id = -1;\n  this.frame = 0;\n};\n\nvar ticker = new Ticker();\n\np.tick = function (a) {\n  ticker.elapsed = getTime() - ticker.lastUpdate; // 离开当前时设值 300；大于 300 则为离开。\n\n  if (ticker.elapsed > 300) {\n    ticker.startTime += ticker.elapsed - ticker.perFrame;\n  }\n\n  ticker.lastUpdate += ticker.elapsed;\n  ticker.time = ticker.lastUpdate - ticker.startTime;\n  var overlap = ticker.time - ticker.nextTime;\n\n  if (overlap > 0 || !ticker.frame) {\n    ticker.frame++;\n    ticker.nextTime += overlap;\n  } // console.log(ticker.frame, ticker.nextTime, ticker.time)\n\n\n  ticker.tickFnArray.forEach(function (item) {\n    return item.func(a);\n  }); // 如果 object 里没对象了，自动杀掉；\n\n  if (!ticker.tickFnArray.length) {\n    ticker.sleep();\n    return;\n  }\n\n  ticker.id = requestAnimationFrame(ticker.tick);\n};\n\nvar timeoutIdNumber = 0;\n\np.timeout = function (fn, time) {\n  var _this = this;\n\n  if (!(typeof fn === 'function')) {\n    return console.warn('not function'); // eslint-disable-line\n  }\n\n  var timeoutID = 'timeout_' + Date.now() + '-' + timeoutIdNumber;\n  var startTime = this.time;\n  this.wake(timeoutID, function () {\n    var moment = _this.time - startTime;\n\n    if (moment >= (time || 0)) {\n      _this.clear(timeoutID);\n\n      fn();\n    }\n  });\n  timeoutIdNumber++;\n  return timeoutID;\n};\n\nvar intervalIdNumber = 0;\n\np.interval = function (fn, time) {\n  var _this2 = this;\n\n  if (!(typeof fn === 'function')) {\n    console.warn('not function'); // eslint-disable-line\n\n    return null;\n  }\n\n  var intervalID = 'interval_' + Date.now() + '-' + intervalIdNumber;\n  var starTime = this.time;\n  this.wake(intervalID, function () {\n    var moment = _this2.time - starTime;\n\n    if (moment >= (time || 0)) {\n      starTime = _this2.time;\n      fn();\n    }\n  });\n  intervalIdNumber++;\n  return intervalID;\n};\n\nexport default ticker;","map":{"version":3,"names":["requestAnimationFrame","getTime","Date","now","sortObj","interval","timeout","TweenOneTicker","tickObjToArray","obj","Object","keys","map","k","key","func","sort","a","b","aa","split","bb","Ticker","prototype","tickFnArray","tickKeyObject","id","tweenId","frame","perFrame","Math","round","elapsed","lastUpdate","startTime","nextTime","time","p","add","fn","wake","tick","clear","sleep","cancel","ticker","overlap","forEach","item","length","timeoutIdNumber","_this","console","warn","timeoutID","moment","intervalIdNumber","_this2","intervalID","starTime"],"sources":["/Users/sunita/Sites/Erptech/myscandmore-admin-practic/node_modules/rc-tween-one/es/ticker.js"],"sourcesContent":["/* eslint-disable func-names */\nimport requestAnimationFrame from 'raf';\n\nvar getTime = Date.now || function () {\n  return new Date().getTime();\n};\nvar sortObj = {\n  interval: 1,\n  timeout: 1,\n  TweenOneTicker: 2\n};\nvar tickObjToArray = function tickObjToArray(obj) {\n  return Object.keys(obj).map(function (k) {\n    return {\n      key: k,\n      func: obj[k]\n    };\n  }).sort(function (a, b) {\n    var aa = a.key.split('_')[0];\n    var bb = b.key.split('_')[0];\n    return sortObj[bb] - sortObj[aa];\n  });\n};\nvar Ticker = function Ticker() {};\nTicker.prototype = {\n  tickFnArray: [],\n  tickKeyObject: {},\n  id: -1,\n  tweenId: 0,\n  frame: 0,\n  perFrame: Math.round(1000 / 60),\n  elapsed: 0,\n  lastUpdate: getTime(),\n  startTime: getTime(), // 开始时间，不计算 react 渲染时间；\n  nextTime: 0,\n  time: 0\n};\nvar p = Ticker.prototype;\np.add = function (fn) {\n  var key = 'TweenOneTicker_' + this.tweenId;\n  this.tweenId++;\n  this.wake(key, fn);\n  return key;\n};\np.wake = function (key, fn) {\n  this.tickKeyObject[key] = fn;\n  this.tickFnArray = tickObjToArray(this.tickKeyObject);\n  if (this.id === -1) {\n    this.id = requestAnimationFrame(this.tick);\n  }\n};\np.clear = function (key) {\n  delete this.tickKeyObject[key];\n  this.tickFnArray = tickObjToArray(this.tickKeyObject);\n};\np.sleep = function () {\n  requestAnimationFrame.cancel(this.id);\n  this.id = -1;\n  this.frame = 0;\n};\nvar ticker = new Ticker();\np.tick = function (a) {\n  ticker.elapsed = getTime() - ticker.lastUpdate;\n  // 离开当前时设值 300；大于 300 则为离开。\n  if (ticker.elapsed > 300) {\n    ticker.startTime += ticker.elapsed - ticker.perFrame;\n  }\n  ticker.lastUpdate += ticker.elapsed;\n  ticker.time = ticker.lastUpdate - ticker.startTime;\n  var overlap = ticker.time - ticker.nextTime;\n  if (overlap > 0 || !ticker.frame) {\n    ticker.frame++;\n    ticker.nextTime += overlap;\n  }\n  // console.log(ticker.frame, ticker.nextTime, ticker.time)\n  ticker.tickFnArray.forEach(function (item) {\n    return item.func(a);\n  });\n  // 如果 object 里没对象了，自动杀掉；\n  if (!ticker.tickFnArray.length) {\n    ticker.sleep();\n    return;\n  }\n  ticker.id = requestAnimationFrame(ticker.tick);\n};\nvar timeoutIdNumber = 0;\np.timeout = function (fn, time) {\n  var _this = this;\n\n  if (!(typeof fn === 'function')) {\n    return console.warn('not function'); // eslint-disable-line\n  }\n  var timeoutID = 'timeout_' + Date.now() + '-' + timeoutIdNumber;\n  var startTime = this.time;\n  this.wake(timeoutID, function () {\n    var moment = _this.time - startTime;\n    if (moment >= (time || 0)) {\n      _this.clear(timeoutID);\n      fn();\n    }\n  });\n  timeoutIdNumber++;\n  return timeoutID;\n};\nvar intervalIdNumber = 0;\np.interval = function (fn, time) {\n  var _this2 = this;\n\n  if (!(typeof fn === 'function')) {\n    console.warn('not function'); // eslint-disable-line\n    return null;\n  }\n  var intervalID = 'interval_' + Date.now() + '-' + intervalIdNumber;\n  var starTime = this.time;\n  this.wake(intervalID, function () {\n    var moment = _this2.time - starTime;\n    if (moment >= (time || 0)) {\n      starTime = _this2.time;\n      fn();\n    }\n  });\n  intervalIdNumber++;\n  return intervalID;\n};\nexport default ticker;"],"mappings":"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"},"metadata":{},"sourceType":"module"}