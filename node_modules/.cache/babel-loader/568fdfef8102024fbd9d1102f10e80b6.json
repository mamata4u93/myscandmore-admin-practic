{"ast":null,"code":"var _jsxFileName = \"/Users/sunita/Sites/Erptech/myscandmore-admin-practic/src/@crema/utility/RouteGenerator.js\",\n    _s = $RefreshSig$(),\n    _this = this;\n\nimport { Navigate, useRoutes } from 'react-router-dom';\nimport { authRole, RoutePermittedRole } from '../../shared/constants/AppEnums';\n/**\r\n * @param {Object} structure - The passed object that defines the routes.\r\n * @param {boolean} structure.isAuthenticated - [Required] in order to differentiate between LoggedIn/Loggedout users\r\n * @param {string} structure.userRole - [Optional] in order to differentiate between admin and normal users\r\n * @param {object} [structure.anonymousStructure] - it's an object that has only [ routes ] array, [ these routes available for All personas ]\r\n * @param {object} [structure.authorizedStructure] - it's an object that has [ fallbackPath: {string}, routes: {array} ], fallbackPath: is used for redirect when a logged [in] user tried to access unAuthorized route, routes: only The Logged [in] Routes Available\r\n * @param {object} [structure.unAuthorizedStructure] - it's an object that has [ fallbackPath: {string}, routes: {array} ], fallbackPath: is used for redirect when a logged [out] user tried to access route that requires [Authorization] , routes: only The Logged [out] Routes Available\r\n * @param {component} [structure.component fallbackComponent] - in order to redirect in all cases if the route doesn't match.\r\n * @param {unAuthorizedComponent} [structure.unAuthorizedComponent] - in order to show not permitted route.\r\n * @returns {Array}\r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst generateRoutes = structure => {\n  _s();\n\n  const {\n    isAuthenticated = false,\n    anonymousStructure = {},\n    authorizedStructure = {},\n    unAuthorizedStructure = {},\n    userRole = authRole.user\n  } = structure || {};\n  const dynamicRoutes = [];\n\n  if (anonymousStructure) {\n    dynamicRoutes.push(...routesGenerator(isAuthenticated, anonymousStructure, 'anonymous'));\n  }\n\n  if (authorizedStructure) {\n    dynamicRoutes.push(...routesGenerator(isAuthenticated, authorizedStructure, 'authorized', isAuthenticated ? userRole : null));\n  }\n\n  if (unAuthorizedStructure) {\n    dynamicRoutes.push(...routesGenerator(isAuthenticated, unAuthorizedStructure, 'unAuthorized'));\n  }\n\n  return useRoutes(dynamicRoutes);\n};\n/**\r\n * path: string\r\n * component: React.Component\r\n * routeProps: Object -----> To override route props\r\n * userRole: string -----> To override route props\r\n * redirectPath: String ----> To redirect to specific location\r\n * showRouteIf: to override when to show the component or when to [ Navigate ]\r\n */\n\n\n_s(generateRoutes, \"mNBMh7IZrKf5fDyw9x3t8azefmI=\", false, function () {\n  return [useRoutes];\n});\n\nconst routesGenerator = function () {\n  let isAuthenticated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  let routeSet = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'anonymous';\n  let userRole = arguments.length > 3 ? arguments[3] : undefined;\n  const generatedRoutes = [];\n  const {\n    fallbackPath = ''\n  } = routeSet || {};\n  const isAnonymous = type === 'anonymous';\n  const isAuthorized = type === 'authorized';\n\n  if (routeSet !== null && routeSet !== void 0 && routeSet.routes) {\n    const routes = routeSet.routes;\n\n    if (Array.isArray(routes) && routes.length > 0) {\n      routes.forEach((route\n      /*index*/\n      ) => {\n        const {\n          path = '',\n          permittedRole = RoutePermittedRole.superadmin,\n          // routeProps = {},\n          redirectPath = '',\n          showRouteIf = true\n        } = route || {}; // Show Route only [ in The list ] if this prop is true\n\n        if (showRouteIf) {\n          // check the mandatory props for a routes\n          if (!path) {\n            console.log(`A [route] is skipped because one of the following, No valid [path] prop provided for the route`, isAuthenticated);\n          } else {\n            if (isAnonymous) {\n              return generatedRoutes.push(route);\n            }\n\n            if (isAuthorized) {\n              const renderCondition = isAuthorized ? isAuthenticated : !isAuthenticated;\n\n              if (Array.isArray(route.path)) {\n                route.path.map(path => {\n                  generatedRoutes.push(renderCondition ? userRole.indexOf(permittedRole) > -1 ? {\n                    element: route.element,\n                    path: path,\n                    permittedRole: route.permittedRole\n                  } : {\n                    path: path,\n                    element: routeSet.unAuthorizedComponent\n                  } : {\n                    path: path,\n                    element: /*#__PURE__*/_jsxDEV(Navigate, {\n                      to: redirectPath || fallbackPath,\n                      replace: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 27\n                    }, _this)\n                  });\n                });\n              } else {\n                generatedRoutes.push(renderCondition ? userRole.indexOf(permittedRole) > -1 ? route : {\n                  path: route.path,\n                  element: routeSet.unAuthorizedComponent\n                } : {\n                  path: route.path,\n                  element: /*#__PURE__*/_jsxDEV(Navigate, {\n                    to: redirectPath || fallbackPath,\n                    replace: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 25\n                  }, _this)\n                });\n              }\n\n              return generatedRoutes;\n            }\n\n            const renderCondition = isAuthorized ? isAuthenticated : !isAuthenticated;\n\n            if (Array.isArray(route.path)) {\n              route.path.map(path => {\n                generatedRoutes.push(renderCondition ? {\n                  element: route.element,\n                  path: path,\n                  permittedRole: route.permittedRole\n                } : {\n                  path: path,\n                  element: /*#__PURE__*/_jsxDEV(Navigate, {\n                    to: redirectPath || fallbackPath,\n                    replace: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 25\n                  }, _this)\n                });\n              });\n            } else {\n              generatedRoutes.push(renderCondition ? route : {\n                path: route.path,\n                element: /*#__PURE__*/_jsxDEV(Navigate, {\n                  to: redirectPath || fallbackPath,\n                  replace: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 23\n                }, _this)\n              });\n            }\n\n            return generatedRoutes;\n          }\n        }\n      });\n    }\n  } else {\n    console.log(`[routes] prop can't be found in ${type}Structure Object`);\n  }\n\n  return generatedRoutes;\n};\n\nexport default generateRoutes;","map":{"version":3,"names":["Navigate","useRoutes","authRole","RoutePermittedRole","generateRoutes","structure","isAuthenticated","anonymousStructure","authorizedStructure","unAuthorizedStructure","userRole","user","dynamicRoutes","push","routesGenerator","routeSet","type","generatedRoutes","fallbackPath","isAnonymous","isAuthorized","routes","Array","isArray","length","forEach","route","path","permittedRole","superadmin","redirectPath","showRouteIf","console","log","renderCondition","map","indexOf","element","unAuthorizedComponent"],"sources":["/Users/sunita/Sites/Erptech/myscandmore-admin-practic/src/@crema/utility/RouteGenerator.js"],"sourcesContent":["import { Navigate, useRoutes } from 'react-router-dom';\r\nimport { authRole, RoutePermittedRole } from '../../shared/constants/AppEnums';\r\n\r\n/**\r\n * @param {Object} structure - The passed object that defines the routes.\r\n * @param {boolean} structure.isAuthenticated - [Required] in order to differentiate between LoggedIn/Loggedout users\r\n * @param {string} structure.userRole - [Optional] in order to differentiate between admin and normal users\r\n * @param {object} [structure.anonymousStructure] - it's an object that has only [ routes ] array, [ these routes available for All personas ]\r\n * @param {object} [structure.authorizedStructure] - it's an object that has [ fallbackPath: {string}, routes: {array} ], fallbackPath: is used for redirect when a logged [in] user tried to access unAuthorized route, routes: only The Logged [in] Routes Available\r\n * @param {object} [structure.unAuthorizedStructure] - it's an object that has [ fallbackPath: {string}, routes: {array} ], fallbackPath: is used for redirect when a logged [out] user tried to access route that requires [Authorization] , routes: only The Logged [out] Routes Available\r\n * @param {component} [structure.component fallbackComponent] - in order to redirect in all cases if the route doesn't match.\r\n * @param {unAuthorizedComponent} [structure.unAuthorizedComponent] - in order to show not permitted route.\r\n * @returns {Array}\r\n */\r\n\r\nconst generateRoutes = (structure) => {\r\n  const {\r\n    isAuthenticated = false,\r\n    anonymousStructure = {},\r\n    authorizedStructure = {},\r\n    unAuthorizedStructure = {},\r\n    userRole = authRole.user,\r\n  } = structure || {};\r\n\r\n\r\n  const dynamicRoutes = [];\r\n\r\n  if (anonymousStructure) {\r\n    dynamicRoutes.push(\r\n      ...routesGenerator(isAuthenticated, anonymousStructure, 'anonymous'),\r\n    );\r\n  }\r\n\r\n  if (authorizedStructure) {\r\n    dynamicRoutes.push(\r\n      ...routesGenerator(\r\n        isAuthenticated,\r\n        authorizedStructure,\r\n        'authorized',\r\n        isAuthenticated ? userRole : null,\r\n      ),\r\n    );\r\n  }\r\n\r\n  if (unAuthorizedStructure) {\r\n    dynamicRoutes.push(\r\n      ...routesGenerator(\r\n        isAuthenticated,\r\n        unAuthorizedStructure,\r\n        'unAuthorized',\r\n      ),\r\n    );\r\n  }\r\n  return useRoutes(dynamicRoutes);\r\n};\r\n\r\n/**\r\n * path: string\r\n * component: React.Component\r\n * routeProps: Object -----> To override route props\r\n * userRole: string -----> To override route props\r\n * redirectPath: String ----> To redirect to specific location\r\n * showRouteIf: to override when to show the component or when to [ Navigate ]\r\n */\r\nconst routesGenerator = (\r\n  isAuthenticated = false,\r\n  routeSet = {},\r\n  type = 'anonymous',\r\n  userRole,\r\n) => {\r\n  const generatedRoutes = [];\r\n  const { fallbackPath = '' } = routeSet || {};\r\n\r\n  const isAnonymous = type === 'anonymous';\r\n  const isAuthorized = type === 'authorized';\r\n\r\n  if (routeSet?.routes) {\r\n    const routes = routeSet.routes;\r\n    if (Array.isArray(routes) && routes.length > 0) {\r\n      routes.forEach((route /*index*/) => {\r\n        const {\r\n          path = '',\r\n          permittedRole = RoutePermittedRole.superadmin,\r\n          // routeProps = {},\r\n          redirectPath = '',\r\n          showRouteIf = true,\r\n        } = route || {};\r\n        // Show Route only [ in The list ] if this prop is true\r\n        if (showRouteIf) {\r\n          // check the mandatory props for a routes\r\n          if (!path) {\r\n            console.log(\r\n              `A [route] is skipped because one of the following, No valid [path] prop provided for the route`,\r\n              isAuthenticated,\r\n            );\r\n          } else {\r\n            if (isAnonymous) {\r\n              return generatedRoutes.push(route);\r\n            }\r\n            if (isAuthorized) {\r\n              const renderCondition = isAuthorized\r\n                ? isAuthenticated\r\n                : !isAuthenticated;\r\n\r\n              if (Array.isArray(route.path)) {\r\n                route.path.map((path) => {\r\n                  generatedRoutes.push(\r\n                    renderCondition\r\n                      ? userRole.indexOf(permittedRole) > -1\r\n                        ? {\r\n                          element: route.element,\r\n                          path: path,\r\n                          permittedRole: route.permittedRole,\r\n                        }\r\n                        : {\r\n                          path: path,\r\n                          element: routeSet.unAuthorizedComponent,\r\n                        }\r\n                      : {\r\n                        path: path,\r\n                        element: (\r\n                          <Navigate\r\n                            to={redirectPath || fallbackPath}\r\n                            replace\r\n                          />\r\n                        ),\r\n                      },\r\n                  );\r\n                });\r\n              } else {\r\n                generatedRoutes.push(\r\n                  renderCondition\r\n                    ? userRole.indexOf(permittedRole) > -1\r\n                      ? route\r\n                      : {\r\n                        path: route.path,\r\n                        element: routeSet.unAuthorizedComponent,\r\n                      }\r\n                    : {\r\n                      path: route.path,\r\n                      element: (\r\n                        <Navigate to={redirectPath || fallbackPath} replace />\r\n                      ),\r\n                    },\r\n                );\r\n              }\r\n\r\n              return generatedRoutes;\r\n            }\r\n            const renderCondition = isAuthorized\r\n              ? isAuthenticated\r\n              : !isAuthenticated;\r\n            if (Array.isArray(route.path)) {\r\n              route.path.map((path) => {\r\n                generatedRoutes.push(\r\n                  renderCondition\r\n                    ? {\r\n                      element: route.element,\r\n                      path: path,\r\n                      permittedRole: route.permittedRole,\r\n                    }\r\n                    : {\r\n                      path: path,\r\n                      element: (\r\n                        <Navigate to={redirectPath || fallbackPath} replace />\r\n                      ),\r\n                    },\r\n                );\r\n              });\r\n            } else {\r\n              generatedRoutes.push(\r\n                renderCondition\r\n                  ? route\r\n                  : {\r\n                    path: route.path,\r\n                    element: (\r\n                      <Navigate to={redirectPath || fallbackPath} replace />\r\n                    ),\r\n                  },\r\n              );\r\n            }\r\n\r\n            return generatedRoutes;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  } else {\r\n    console.log(`[routes] prop can't be found in ${type}Structure Object`);\r\n  }\r\n  return generatedRoutes;\r\n};\r\n\r\nexport default generateRoutes;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}